{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///TweenTime.Core.min.js","webpack:///webpack/bootstrap 91ade9ce4b0733a0cf0c","webpack:///./Core.js","webpack:///./core/Utils.js","webpack:///./core/Timer.js","webpack:///external {\"root\":\"signals\",\"commonjs\":\"signals\",\"commonjs2\":\"signals\",\"amd\":\"signals\"}","webpack:///./core/Orchestrator.js","webpack:///external {\"root\":\"TweenMax\",\"commonjs\":\"gsap\",\"commonjs2\":\"gsap\",\"amd\":\"TweenMax\"}","webpack:///external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_6__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_Utils","_Utils2","_Timer","_Timer2","_Orchestrator","_Orchestrator2","_","Core","data","options","arguments","undefined","timer","orchestrator","value","item_id","find","item","prop_name","item_id_or_obj","getItem","properties","property","name","values","getValues","time_in_seconds","keys","time","new_val","getCurrentTime","getKeyAt","val","_property","defaultEase","ease","push","sortKeys","getTotalDuration","Utils","d","seconds","hours","Math","floor","minutes","output","objectId","property_name","tolerance","timer_time","abs","start","end","j","prop","k","prevKey","compare","a","b","sort","s4","random","toString","substring","Signals","Timer","totalDuration","is_playing","last_timeStamp","last_time","updated","Signal","statusChanged","durationChanged","seeked","update","bind","window","requestAnimationFrame","dispatch","timestamp","elapsed","stop","TweenMax","Orchestrator","mainTimeline","TimelineMax","paused","onUpdate","add","ease_index","split","Quad","easeOut","_domHelper","document","createElement","property_key","type","css","style","has_dirty_items","initSpecialProperties","initItemValues","_timeline","_isDirty","clear","propertyTimeline","propName","data_target","first_key","tween_time","min","tween_duration","easing","getEasing","tween","to","key_index","next_key","seek"],"mappings":"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","file":"TweenTime.Core.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"signals\"), require(\"gsap\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"signals\", \"TweenMax\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"signals\"), require(\"gsap\"), require(\"lodash\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"signals\"], root[\"TweenMax\"], root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"signals\"), require(\"gsap\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"signals\", \"TweenMax\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"signals\"), require(\"gsap\"), require(\"lodash\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"signals\"], root[\"TweenMax\"], root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tvar _Timer = __webpack_require__(2);\n\t\n\tvar _Timer2 = _interopRequireDefault(_Timer);\n\t\n\tvar _Orchestrator = __webpack_require__(4);\n\t\n\tvar _Orchestrator2 = _interopRequireDefault(_Orchestrator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar _ = __webpack_require__(6);\n\t\n\tvar Core = function () {\n\t  function Core(data) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    _classCallCheck(this, Core);\n\t\n\t    this.data = data;\n\t    this.options = options;\n\t    this.timer = new _Timer2.default(options);\n\t    this.orchestrator = new _Orchestrator2.default(this.timer, this.data);\n\t  }\n\t\n\t  _createClass(Core, [{\n\t    key: 'getItem',\n\t    value: function getItem(item_id) {\n\t      // In case we passed the item object directly return it.\n\t      if (item_id && (typeof item_id === 'undefined' ? 'undefined' : _typeof(item_id)) === 'object') {\n\t        return item_id;\n\t      }\n\t\n\t      return _.find(this.data, function (item) {\n\t        return item.id === item_id;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getProperty',\n\t    value: function getProperty(prop_name, item_id_or_obj) {\n\t      // If we passed the item name get the object from it.\n\t      var item = this.getItem(item_id_or_obj);\n\t\n\t      // Return false if we have no item\n\t      if (!item) {\n\t        return false;\n\t      }\n\t\n\t      return _.find(item.properties, function (property) {\n\t        return property.name === prop_name;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getValues',\n\t    value: function getValues(item_id_or_obj) {\n\t      // If we passed the item name get the object from it.\n\t      var item = this.getItem(item_id_or_obj);\n\t\n\t      // Return false if we have no item\n\t      if (!item) {\n\t        return undefined;\n\t      }\n\t\n\t      return item.values;\n\t    }\n\t  }, {\n\t    key: 'getValue',\n\t    value: function getValue(prop_name, item_id_or_obj) {\n\t      // If we passed the item name get the object from it.\n\t      var values = this.getValues(item_id_or_obj);\n\t\n\t      // Return false if we have no item\n\t      if (!values) {\n\t        return undefined;\n\t      }\n\t\n\t      if (values[prop_name] !== undefined) {\n\t        return values[prop_name];\n\t      }\n\t      return undefined;\n\t    }\n\t  }, {\n\t    key: 'getKeyAt',\n\t    value: function getKeyAt(property, time_in_seconds) {\n\t      return _.find(property.keys, function (key) {\n\t        return key.time === time_in_seconds;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setValue',\n\t    value: function setValue(property, new_val) {\n\t      var time_in_seconds = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t\n\t      var time = time_in_seconds;\n\t      if (time === false) {\n\t        time = this.timer.getCurrentTime() / 1000;\n\t      }\n\t      var key = this.getKeyAt(property, time);\n\t\n\t      if (key) {\n\t        // If we found a key, simply update the value.\n\t        key.val = new_val;\n\t      } else {\n\t        if (property.keys.length === 0) {\n\t          // If the property doesn't have any key simply the the value.\n\t          property.val = new_val;\n\t        } else {\n\t          // If we are not on a key but the property has other keys,\n\t          // create it and add it to the keys array.\n\t          key = { val: new_val, time: time, _property: property };\n\t          if (this.options.defaultEase) {\n\t            key.ease = this.options.defaultEase;\n\t          }\n\t          property.keys.push(key);\n\t          // Also sort the keys.\n\t          property.keys = _Utils2.default.sortKeys(property.keys);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getTotalDuration',\n\t    value: function getTotalDuration() {\n\t      return this.orchestrator.getTotalDuration();\n\t    }\n\t  }]);\n\t\n\t  return Core;\n\t}();\n\t\n\tmodule.exports = Core;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Utils = function () {\n\t  function Utils() {\n\t    _classCallCheck(this, Utils);\n\t  }\n\t\n\t  _createClass(Utils, null, [{\n\t    key: 'formatMinutes',\n\t    value: function formatMinutes(d) {\n\t      // convert milliseconds to seconds\n\t      var seconds = d / 1000;\n\t      var hours = Math.floor(seconds / 3600);\n\t      var minutes = Math.floor((seconds - hours * 3600) / 60);\n\t      seconds = seconds - minutes * 60;\n\t      var output = seconds + 's';\n\t      if (minutes) {\n\t        output = minutes + 'm ' + output;\n\t      }\n\t      if (hours) {\n\t        output = hours + 'h ' + output;\n\t      }\n\t      return output;\n\t    }\n\t  }, {\n\t    key: 'getClosestTime',\n\t    value: function getClosestTime(data, time) {\n\t      var objectId = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t      var property_name = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t      var timer = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\t      var tolerance = arguments.length <= 5 || arguments[5] === undefined ? 0.1 : arguments[5];\n\t\n\t      if (timer) {\n\t        var timer_time = timer.getCurrentTime() / 1000;\n\t        if (Math.abs(timer_time - time) <= tolerance) {\n\t          return timer_time;\n\t        }\n\t      }\n\t\n\t      if (objectId || property_name) {\n\t        for (var i = 0; i < data.length; i++) {\n\t          var item = data[i];\n\t          // Don't match item with itself, but allow property to match item start/end.\n\t          if (item.id !== objectId || property_name) {\n\t            // First check start & end.\n\t            if (Math.abs(item.start - time) <= tolerance) {\n\t              return item.start;\n\t            }\n\t\n\t            if (Math.abs(item.end - time) <= tolerance) {\n\t              return item.end;\n\t            }\n\t          }\n\t\n\t          // Test properties keys\n\t          for (var j = 0; j < item.properties.length; j++) {\n\t            var prop = item.properties[j];\n\t\n\t            // Don't match property with itself.\n\t            if (prop.keys && (item.id !== objectId || prop.name !== property_name)) {\n\t              for (var k = 0; k < prop.keys.length; k++) {\n\t                var key = prop.keys[k];\n\t                if (Math.abs(key.time - time) <= tolerance) {\n\t                  return key.time;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'getPreviousKey',\n\t    value: function getPreviousKey(keys, time) {\n\t      var prevKey = false;\n\t      for (var i = 0; i < keys.length; i++) {\n\t        var key = keys[i];\n\t        if (key.time < time) {\n\t          prevKey = key;\n\t        } else {\n\t          return prevKey;\n\t        }\n\t      }\n\t      return prevKey;\n\t    }\n\t  }, {\n\t    key: 'sortKeys',\n\t    value: function sortKeys(keys) {\n\t      var compare = function compare(a, b) {\n\t        if (a.time < b.time) {\n\t          return -1;\n\t        }\n\t        if (a.time > b.time) {\n\t          return 1;\n\t        }\n\t        return 0;\n\t      };\n\t      return keys.sort(compare);\n\t    }\n\t  }, {\n\t    key: 'guid',\n\t    value: function guid() {\n\t      var s4 = function s4() {\n\t        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t      };\n\t      return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n\t    }\n\t  }]);\n\t\n\t  return Utils;\n\t}();\n\t\n\texports.default = Utils;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Signals = __webpack_require__(3);\n\t\n\tvar Timer = function () {\n\t  function Timer() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Timer);\n\t\n\t    // in millisecond\n\t    this.totalDuration = options.totalDuration || 240 * 1000;\n\t    // Use an array for the time for easier d3.js integration (used as data for timeseeker).\n\t    this.time = [0];\n\t    this.is_playing = false;\n\t    this.last_timeStamp = -1;\n\t    this.last_time = -1;\n\t    this.updated = new Signals.Signal();\n\t    this.statusChanged = new Signals.Signal();\n\t    this.durationChanged = new Signals.Signal();\n\t    this.seeked = new Signals.Signal();\n\t    this.update = this.update.bind(this);\n\t    window.requestAnimationFrame(this.update);\n\t  }\n\t\n\t  _createClass(Timer, [{\n\t    key: 'getCurrentTime',\n\t    value: function getCurrentTime() {\n\t      return this.time[0];\n\t    }\n\t  }, {\n\t    key: 'getDuration',\n\t    value: function getDuration() {\n\t      return this.totalDuration / 1000;\n\t    }\n\t  }, {\n\t    key: 'setDuration',\n\t    value: function setDuration(seconds) {\n\t      this.totalDuration = seconds * 1000;\n\t      this.durationChanged.dispatch(seconds);\n\t    }\n\t  }, {\n\t    key: 'play',\n\t    value: function play() {\n\t      this.is_playing = true;\n\t      this.statusChanged.dispatch(this.is_playing);\n\t    }\n\t  }, {\n\t    key: 'stop',\n\t    value: function stop() {\n\t      this.is_playing = false;\n\t      this.statusChanged.dispatch(this.is_playing);\n\t    }\n\t  }, {\n\t    key: 'toggle',\n\t    value: function toggle() {\n\t      this.is_playing = !this.is_playing;\n\t      this.statusChanged.dispatch(this.is_playing);\n\t    }\n\t  }, {\n\t    key: 'seek',\n\t    value: function seek(time) {\n\t      this.time[0] = time[0];\n\t      this.seeked.dispatch(this.time[0]);\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update(timestamp) {\n\t      // Init timestamp\n\t      if (this.last_timeStamp === -1) {\n\t        this.last_timeStamp = timestamp;\n\t      }\n\t      var elapsed = timestamp - this.last_timeStamp;\n\t\n\t      if (this.is_playing) {\n\t        this.time[0] += elapsed;\n\t      }\n\t\n\t      if (this.time[0] >= this.totalDuration) {\n\t        // Stop timer when reaching the end.\n\t        this.time[0] = this.totalDuration;\n\t        this.stop();\n\t      }\n\t\n\t      this.updated.dispatch(this.time[0]);\n\t\n\t      this.last_timeStamp = timestamp;\n\t      this.last_time = this.time[0];\n\t      window.requestAnimationFrame(this.update);\n\t    }\n\t  }]);\n\t\n\t  return Timer;\n\t}();\n\t\n\texports.default = Timer;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Signals = __webpack_require__(3);\n\tvar TweenMax = __webpack_require__(5);\n\t\n\tvar Orchestrator = function () {\n\t  function Orchestrator(timer, data) {\n\t    _classCallCheck(this, Orchestrator);\n\t\n\t    this.update = this.update.bind(this);\n\t    this.timer = timer;\n\t    this.data = data;\n\t    this.mainTimeline = new TimelineMax({ paused: true });\n\t    this.onUpdate = new Signals.Signal();\n\t    this.timer.updated.add(this.update);\n\t    this.update(0);\n\t  }\n\t\n\t  _createClass(Orchestrator, [{\n\t    key: 'getTotalDuration',\n\t    value: function getTotalDuration() {\n\t      return this.mainTimeline.totalDuration();\n\t    }\n\t  }, {\n\t    key: 'getEasing',\n\t    value: function getEasing() {\n\t      var key = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t\n\t      if (key && key.ease) {\n\t        var ease_index = key.ease.split('.');\n\t        if (ease_index.length === 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]) {\n\t          return window[ease_index[0]][ease_index[1]];\n\t        }\n\t      }\n\t      return Quad.easeOut;\n\t    }\n\t  }, {\n\t    key: 'initSpecialProperties',\n\t    value: function initSpecialProperties(item) {\n\t      // Add a dom element for color tweening and other css properties.\n\t      item._domHelper = document.createElement('div');\n\t      for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t        var property = item.properties[property_key];\n\t        // Setup special properties\n\t        if (property.type && property.type === 'color') {\n\t          // If the property is a color mark it as css\n\t          property.css = true;\n\t        }\n\t\n\t        if (property.css) {\n\t          // If property is a css or a color value apply it to the domHelper element.\n\t          item._domHelper.style[property.name] = property.val;\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'initItemValues',\n\t    value: function initItemValues(item) {\n\t      item.values = {};\n\t      // item._isDirty = true\n\t      for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t        var property = item.properties[property_key];\n\t        if (property.keys.length) {\n\t          // Take the value of the first key as initial value.\n\t          // this.todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n\t          property.val = property.keys[0].val;\n\t        }\n\t        item.values[property.name] = property.val;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update(timestamp) {\n\t      var seconds = timestamp / 1000;\n\t      var has_dirty_items = false;\n\t      var i;\n\t      var item;\n\t      var property;\n\t      var property_key;\n\t\n\t      for (i = 0; i < this.data.length; i++) {\n\t        item = this.data[i];\n\t        if (!item._domHelper) {\n\t          this.initSpecialProperties(item);\n\t        }\n\t\n\t        // create the values object to contain all properties\n\t        if (!item.values) {\n\t          this.initItemValues(item);\n\t        }\n\t\n\t        // Create the timeline if needed\n\t        if (!item._timeline) {\n\t          item._timeline = new TimelineMax();\n\t          this.mainTimeline.add(item._timeline, 0);\n\t          item._isDirty = true;\n\t        }\n\t\n\t        if (item._isDirty) {\n\t          has_dirty_items = true;\n\t        }\n\t\n\t        if (item._timeline && item._isDirty && item.properties) {\n\t          item._isDirty = false;\n\t          // item._timeline.clear();\n\t\n\t          for (property_key = 0; property_key < item.properties.length; property_key++) {\n\t            property = item.properties[property_key];\n\t            if (property._timeline) {\n\t              property._timeline.clear();\n\t            } else {\n\t              property._timeline = new TimelineMax();\n\t              item._timeline.add(property._timeline, 0);\n\t            }\n\t\n\t            var propertyTimeline = property._timeline;\n\t            var propName = property.name;\n\t\n\t            // If there is no key stop there and set value to default.\n\t            if (!property.keys.length) {\n\t              item.values[property.name] = property.val;\n\t              continue;\n\t            }\n\t\n\t            // Set the data values target object.\n\t            var data_target = item.values;\n\t            // Add a inital key, even if there is no animation to set the value from time 0.\n\t            var first_key = property.keys[0];\n\t\n\t            var tween_time = 0;\n\t            if (first_key) {\n\t              tween_time = Math.min(-1, first_key.time - 0.1);\n\t            }\n\t\n\t            var tween_duration = 0;\n\t            var val = {};\n\t            var easing = this.getEasing();\n\t            val.ease = easing;\n\t\n\t            if (property.css) {\n\t              data_target = item._domHelper;\n\t              val.css = {};\n\t              val.css[propName] = first_key ? first_key.val : property.val;\n\t            } else {\n\t              val[propName] = first_key ? first_key.val : property.val;\n\t            }\n\t\n\t            var tween = TweenMax.to(data_target, tween_duration, val);\n\t            propertyTimeline.add(tween, tween_time);\n\t\n\t            for (var key_index = 0; key_index < property.keys.length; key_index++) {\n\t              var key = property.keys[key_index];\n\t\n\t              if (key_index < property.keys.length - 1) {\n\t                var next_key = property.keys[key_index + 1];\n\t                tween_duration = next_key.time - key.time;\n\t\n\t                val = {};\n\t                easing = this.getEasing(next_key);\n\t                val.ease = easing;\n\t                if (property.css) {\n\t                  val.css = {};\n\t                  val.css[propName] = next_key.val;\n\t                } else {\n\t                  val[propName] = next_key.val;\n\t                }\n\t\n\t                tween = TweenMax.to(data_target, tween_duration, val);\n\t                propertyTimeline.add(tween, key.time);\n\t              }\n\t            }\n\t\n\t            // Directly seek the property timeline to update the value.\n\t            propertyTimeline.seek(seconds);\n\t          }\n\t          // Force main timeline to refresh but never try to go to < 0\n\t          // to prevent glitches when current time is 0.\n\t          if (seconds > 0) {\n\t            seconds = seconds - 0.0000001;\n\t          } else {\n\t            seconds = seconds + 0.0000001;\n\t          }\n\t        }\n\t      }\n\t\n\t      // Finally update the main timeline.\n\t      this.mainTimeline.seek(seconds);\n\t\n\t      // update the css properties.\n\t      for (i = 0; i < this.data.length; i++) {\n\t        item = this.data[i];\n\t        for (property_key = 0; property_key < item.properties.length; property_key++) {\n\t          property = item.properties[property_key];\n\t          if (property.css && property.keys.length) {\n\t            // Only css values.\n\t            item.values[property.name] = item._domHelper.style[property.name];\n\t          }\n\t        }\n\t      }\n\t\n\t      if (has_dirty_items) {\n\t        this.onUpdate.dispatch();\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Orchestrator;\n\t}();\n\t\n\texports.default = Orchestrator;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** TweenTime.Core.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 91ade9ce4b0733a0cf0c\n **/","var _ = require('lodash');\n\nimport Utils from './core/Utils';\nimport Timer from './core/Timer';\nimport Orchestrator from './core/Orchestrator';\n\nclass Core {\n  constructor(data, options = {}) {\n    this.data = data;\n    this.options = options;\n    this.timer = new Timer(options);\n    this.orchestrator = new Orchestrator(this.timer, this.data);\n  }\n\n  getItem(item_id) {\n    // In case we passed the item object directly return it.\n    if (item_id && typeof item_id === 'object') {\n      return item_id;\n    }\n\n    return _.find(this.data, (item) => item.id === item_id);\n  }\n\n  getProperty(prop_name, item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    let item = this.getItem(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!item) {\n      return false;\n    }\n\n    return _.find(item.properties, property => property.name === prop_name);\n  }\n\n  getValues(item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    let item = this.getItem(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!item) {\n      return undefined;\n    }\n\n    return item.values;\n  }\n\n  getValue(prop_name, item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    var values = this.getValues(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!values) {\n      return undefined;\n    }\n\n    if (values[prop_name] !== undefined) {\n      return values[prop_name];\n    }\n    return undefined;\n  }\n\n  getKeyAt(property, time_in_seconds) {\n    return _.find(property.keys, key => key.time === time_in_seconds);\n  }\n\n  setValue(property, new_val, time_in_seconds = false) {\n    let time = time_in_seconds;\n    if (time === false) {\n      time = this.timer.getCurrentTime() / 1000;\n    }\n    var key = this.getKeyAt(property, time);\n\n    if (key) {\n      // If we found a key, simply update the value.\n      key.val = new_val;\n    }\n    else {\n      if (property.keys.length === 0) {\n        // If the property doesn't have any key simply the the value.\n        property.val = new_val;\n      }\n      else {\n        // If we are not on a key but the property has other keys,\n        // create it and add it to the keys array.\n        key = {val: new_val, time: time, _property: property};\n        if (this.options.defaultEase) {\n          key.ease = this.options.defaultEase;\n        }\n        property.keys.push(key);\n        // Also sort the keys.\n        property.keys = Utils.sortKeys(property.keys);\n      }\n    }\n  }\n\n  getTotalDuration() {\n    return this.orchestrator.getTotalDuration();\n  }\n}\n\nmodule.exports = Core;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Core.js\n **/","export default class Utils {\n  static formatMinutes(d) {\n    // convert milliseconds to seconds\n    let seconds = d / 1000;\n    let hours = Math.floor(seconds / 3600);\n    let minutes = Math.floor((seconds - hours * 3600) / 60);\n    seconds = seconds - minutes * 60;\n    let output = seconds + 's';\n    if (minutes) {\n      output = minutes + 'm ' + output;\n    }\n    if (hours) {\n      output = hours + 'h ' + output;\n    }\n    return output;\n  }\n\n  static getClosestTime(data, time, objectId = false, property_name = false, timer = false, tolerance = 0.1) {\n    if (timer) {\n      var timer_time = timer.getCurrentTime() / 1000;\n      if (Math.abs(timer_time - time) <= tolerance) {\n        return timer_time;\n      }\n    }\n\n    if (objectId || property_name) {\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        // Don't match item with itself, but allow property to match item start/end.\n        if (item.id !== objectId || property_name) {\n          // First check start & end.\n          if (Math.abs(item.start - time) <= tolerance) {\n            return item.start;\n          }\n\n          if (Math.abs(item.end - time) <= tolerance) {\n            return item.end;\n          }\n        }\n\n        // Test properties keys\n        for (var j = 0; j < item.properties.length; j++) {\n          var prop = item.properties[j];\n\n          // Don't match property with itself.\n          if (prop.keys && (item.id !== objectId || prop.name !== property_name)) {\n            for (var k = 0; k < prop.keys.length; k++) {\n              var key = prop.keys[k];\n              if (Math.abs(key.time - time) <= tolerance) {\n                return key.time;\n              }\n            }\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  static getPreviousKey(keys, time) {\n    var prevKey = false;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (key.time < time) {\n        prevKey = key;\n      }\n      else {\n        return prevKey;\n      }\n    }\n    return prevKey;\n  }\n\n  static sortKeys(keys) {\n    var compare = function(a, b) {\n      if (a.time < b.time) {\n        return -1;\n      }\n      if (a.time > b.time) {\n        return 1;\n      }\n      return 0;\n    };\n    return keys.sort(compare);\n  }\n\n  static guid() {\n    var s4 = function() {\n      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    };\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Utils.js\n **/","let Signals = require('js-signals');\n\nexport default class Timer {\n  constructor(options = {}) {\n    // in millisecond\n    this.totalDuration = options.totalDuration || 240 * 1000;\n    // Use an array for the time for easier d3.js integration (used as data for timeseeker).\n    this.time = [0];\n    this.is_playing = false;\n    this.last_timeStamp = -1;\n    this.last_time = -1;\n    this.updated = new Signals.Signal();\n    this.statusChanged = new Signals.Signal();\n    this.durationChanged = new Signals.Signal();\n    this.seeked = new Signals.Signal();\n    this.update = this.update.bind(this);\n    window.requestAnimationFrame(this.update);\n  }\n\n  getCurrentTime() {\n    return this.time[0];\n  }\n\n  getDuration() {\n    return this.totalDuration / 1000;\n  }\n\n  setDuration(seconds) {\n    this.totalDuration = seconds * 1000;\n    this.durationChanged.dispatch(seconds);\n  }\n\n  play() {\n    this.is_playing = true;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  stop() {\n    this.is_playing = false;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  toggle() {\n    this.is_playing = !this.is_playing;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  seek(time) {\n    this.time[0] = time[0];\n    this.seeked.dispatch(this.time[0]);\n  }\n\n  update(timestamp) {\n    // Init timestamp\n    if (this.last_timeStamp === -1) {\n      this.last_timeStamp = timestamp;\n    }\n    var elapsed = timestamp - this.last_timeStamp;\n\n    if (this.is_playing) {\n      this.time[0] += elapsed;\n    }\n\n    if (this.time[0] >= this.totalDuration) {\n      // Stop timer when reaching the end.\n      this.time[0] = this.totalDuration;\n      this.stop();\n    }\n\n    this.updated.dispatch(this.time[0]);\n\n    this.last_timeStamp = timestamp;\n    this.last_time = this.time[0];\n    window.requestAnimationFrame(this.update);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Timer.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"signals\",\"commonjs\":\"signals\",\"commonjs2\":\"signals\",\"amd\":\"signals\"}\n ** module id = 3\n ** module chunks = 0 1\n **/","let Signals = require('js-signals');\nlet TweenMax = require('gsap');\n\nexport default class Orchestrator {\n  constructor(timer, data) {\n    this.update = this.update.bind(this);\n    this.timer = timer;\n    this.data = data;\n    this.mainTimeline = new TimelineMax({paused: true});\n    this.onUpdate = new Signals.Signal();\n    this.timer.updated.add(this.update);\n    this.update(0);\n  }\n\n  getTotalDuration() {\n    return this.mainTimeline.totalDuration();\n  }\n\n  getEasing(key = false) {\n    if (key && key.ease) {\n      var ease_index = key.ease.split('.');\n      if (ease_index.length === 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]) {\n        return window[ease_index[0]][ease_index[1]];\n      }\n    }\n    return Quad.easeOut;\n  }\n\n  initSpecialProperties(item) {\n    // Add a dom element for color tweening and other css properties.\n    item._domHelper = document.createElement('div');\n    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n      var property = item.properties[property_key];\n      // Setup special properties\n      if (property.type && property.type === 'color') {\n        // If the property is a color mark it as css\n        property.css = true;\n      }\n\n      if (property.css) {\n        // If property is a css or a color value apply it to the domHelper element.\n        item._domHelper.style[property.name] = property.val;\n      }\n    }\n  }\n\n  initItemValues(item) {\n    item.values = {};\n    // item._isDirty = true\n    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n      var property = item.properties[property_key];\n      if (property.keys.length) {\n        // Take the value of the first key as initial value.\n        // this.todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n        property.val = property.keys[0].val;\n      }\n      item.values[property.name] = property.val;\n    }\n  }\n\n  update(timestamp) {\n    var seconds = timestamp / 1000;\n    var has_dirty_items = false;\n    var i;\n    var item;\n    var property;\n    var property_key;\n\n    for (i = 0; i < this.data.length; i++) {\n      item = this.data[i];\n      if (!item._domHelper) {\n        this.initSpecialProperties(item);\n      }\n\n      // create the values object to contain all properties\n      if (!item.values) {\n        this.initItemValues(item);\n      }\n\n      // Create the timeline if needed\n      if (!item._timeline) {\n        item._timeline = new TimelineMax();\n        this.mainTimeline.add(item._timeline, 0);\n        item._isDirty = true;\n      }\n\n      if (item._isDirty) {\n        has_dirty_items = true;\n      }\n\n      if (item._timeline && item._isDirty && item.properties) {\n        item._isDirty = false;\n        // item._timeline.clear();\n\n        for (property_key = 0; property_key < item.properties.length; property_key++) {\n          property = item.properties[property_key];\n          if (property._timeline) {\n            property._timeline.clear();\n          }\n          else {\n            property._timeline = new TimelineMax();\n            item._timeline.add(property._timeline, 0);\n          }\n\n          var propertyTimeline = property._timeline;\n          var propName = property.name;\n\n          // If there is no key stop there and set value to default.\n          if (!property.keys.length) {\n            item.values[property.name] = property.val;\n            continue;\n          }\n\n          // Set the data values target object.\n          var data_target = item.values;\n          // Add a inital key, even if there is no animation to set the value from time 0.\n          var first_key = property.keys[0];\n\n          var tween_time = 0;\n          if (first_key) {\n            tween_time = Math.min(-1, first_key.time - 0.1);\n          }\n\n          var tween_duration = 0;\n          var val = {};\n          var easing = this.getEasing();\n          val.ease = easing;\n\n          if (property.css) {\n            data_target = item._domHelper;\n            val.css = {};\n            val.css[propName] = first_key ? first_key.val : property.val;\n          }\n          else {\n            val[propName] = first_key ? first_key.val : property.val;\n          }\n\n          var tween = TweenMax.to(data_target, tween_duration, val);\n          propertyTimeline.add(tween, tween_time);\n\n          for (var key_index = 0; key_index < property.keys.length; key_index++) {\n            var key = property.keys[key_index];\n\n            if (key_index < property.keys.length - 1) {\n              var next_key = property.keys[key_index + 1];\n              tween_duration = next_key.time - key.time;\n\n              val = {};\n              easing = this.getEasing(next_key);\n              val.ease = easing;\n              if (property.css) {\n                val.css = {};\n                val.css[propName] = next_key.val;\n              }\n              else {\n                val[propName] = next_key.val;\n              }\n\n              tween = TweenMax.to(data_target, tween_duration, val);\n              propertyTimeline.add(tween, key.time);\n            }\n          }\n\n          // Directly seek the property timeline to update the value.\n          propertyTimeline.seek(seconds);\n        }\n        // Force main timeline to refresh but never try to go to < 0\n        // to prevent glitches when current time is 0.\n        if (seconds > 0) {\n          seconds = seconds - 0.0000001;\n        }\n        else {\n          seconds = seconds + 0.0000001;\n        }\n      }\n    }\n\n    // Finally update the main timeline.\n    this.mainTimeline.seek(seconds);\n\n    // update the css properties.\n    for (i = 0; i < this.data.length; i++) {\n      item = this.data[i];\n      for (property_key = 0; property_key < item.properties.length; property_key++) {\n        property = item.properties[property_key];\n        if (property.css && property.keys.length) {\n          // Only css values.\n          item.values[property.name] = item._domHelper.style[property.name];\n        }\n      }\n    }\n\n    if (has_dirty_items) {\n      this.onUpdate.dispatch();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Orchestrator.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"TweenMax\",\"commonjs\":\"gsap\",\"commonjs2\":\"gsap\",\"amd\":\"TweenMax\"}\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}\n ** module id = 6\n ** module chunks = 0 1\n **/"],"sourceRoot":""}